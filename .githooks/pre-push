#!/bin/sh
branch="$(git symbolic-ref --short HEAD)"
pattern="^(feature|bugfix|hotfix|release)\/[a-z0-9._-]+$"

if ! echo "$branch" | grep -Eq "$pattern"; then
  echo "ğŸš« Nom de branche invalide : $branch"
  echo "âœ¨ Format attendu : feature/<desc>, bugfix/<ticket-id>, hotfix/<desc>, release/<version>"
  echo "âš ï¸  Veuillez renommer votre branche avant de pousser."
  echo "ğŸ’¡ Exemple de commandes :"
  echo "  ğŸ”„ git branch -m $branch <new-branch-name>"
  echo "  â¬†ï¸  git push origin -u <new-branch-name>"
  exit 1
fi
